jQuery(document).ready(function(e){function t(e){var t=e.find(".rwmb-clone:last"),r=t.clone(),e,i;r.insertAfter(t);e=r.find(':input[class|="rwmb"]');e.val("");i=e.attr("name").replace(/\[(\d+)\]/,function(e,t){return"["+(parseInt(t)+1)+"]"});e.attr("name",i);n(e);e.trigger("clone")}function n(t){var n;t||(t=e(".rwmb-field"));t.each(function(){n=e(this).find(".remove-clone");n.length<2?n.hide():n.show()})}n();e(".add-clone").on("click",function(r){r.stopPropagation();var i=e(this).parents(".rwmb-input"),s=e(this).parents(".rwmb-field").attr("clone-group");if(s){var o=e(this).parents(".inside"),u=o.find('div[clone-group="'+s+'"]');e.each(u.find(".rwmb-input"),function(n,r){t(e(r))})}else t(i);n(i);return!1});e(".rwmb-input").on("click",".remove-clone",function(){var t=e(this),r=t.parents(".rwmb-input"),i=e(this).parents(".rwmb-field").attr("clone-group");if(r.find(".rwmb-clone").length<=1)return!1;if(i){var s=e(this).parents(".inside"),o=s.find('div[clone-group="'+i+'"]'),u=t.parent().index();e.each(o.find(".rwmb-input"),function(t,r){e(r).children(".rwmb-clone").eq(u).remove();n(e(r))})}else{t.parent().remove();n(r)}return!1})});