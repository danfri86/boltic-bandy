/**
* Common JS functions for form settings and form editor pages.
*/function ToggleConditionalLogic(e,t){var n=e?"":"slow";if(jQuery("#"+t+"_conditional_logic").is(":checked")){var r=GetConditionalObject(t);CreateConditionalLogic(t,r);SetConditionalProperty(t,"actionType",jQuery("#"+t+"_action_type").val());SetConditionalProperty(t,"logicType",jQuery("#"+t+"_logic_type").val());SetRule(t,0);jQuery("#"+t+"_conditional_logic_container").show(n)}else jQuery("#"+t+"_conditional_logic_container").hide(n)}function GetConditionalObject(e){var t=!1;switch(e){case"page":case"field":t=GetSelectedField();break;case"next_button":var n=GetSelectedField();t=n.nextButton;break;case"confirmation":t=confirmation;break;case"notification":t=current_notification;break;default:t=typeof form!="undefined"?form.button:!1}t=gform.applyFilters("gform_conditional_object",t,e);return t}function CreateConditionalLogic(e,t){t.conditionalLogic||(t.conditionalLogic=new ConditionalLogic);var n=t.conditionalLogic.actionType=="hide"?"selected='selected'":"",r=t.conditionalLogic.actionType=="show"?"selected='selected'":"",i=t.conditionalLogic.logicType=="all"?"selected='selected'":"",s=t.conditionalLogic.logicType=="any"?"selected='selected'":"",o;e=="field"?o=gf_vars.thisFieldIf:e=="page"?o=gf_vars.thisPage:e=="confirmation"?o=gf_vars.thisConfirmation:e=="notification"?o=gf_vars.thisNotification:o=gf_vars.thisFormButton;var u={};u.actionType="<select id='"+e+"_action_type' onchange='SetConditionalProperty(\""+e+"\", \"actionType\", jQuery(this).val());'><option value='show' "+r+">"+gf_vars.show+"</option><option value='hide' "+n+">"+gf_vars.hide+"</option></select>";u.objectDescription=o;u.logicType="<select id='"+e+"_logic_type' onchange='SetConditionalProperty(\""+e+"\", \"logicType\", jQuery(this).val());'><option value='all' "+i+">"+gf_vars.all+"</option><option value='any' "+s+">"+gf_vars.any+"</option></select>";u.ofTheFollowingMatch=gf_vars.ofTheFollowingMatch;var a=makeArray(u),f=a.join(" "),f=gform.applyFilters("gform_conditional_logic_description",f,u,e,t),l,c;for(l=0;l<t.conditionalLogic.rules.length;l++){c=t.conditionalLogic.rules[l];f+="<div width='100%' class='gf_conditional_logic_rules_container'>";f+=GetRuleFields(e,l,c.fieldId);f+=GetRuleOperators(e,l,c.fieldId,c.operator);f+=GetRuleValues(e,l,c.fieldId,c.value);f+="<img src='"+gf_vars.baseUrl+"/images/add.png' class='add_field_choice' title='add another rule' alt='add another rule' style='cursor:pointer; margin:0 3px;' onclick=\"InsertRule('"+e+"', "+(l+1)+');" />';t.conditionalLogic.rules.length>1&&(f+="<img src='"+gf_vars.baseUrl+"/images/remove.png' title='remove this rule' alt='remove this rule' class='delete_field_choice' style='cursor:pointer;' onclick=\"DeleteRule('"+e+"', "+l+');" /></li>');f+="</div>"}jQuery("#"+e+"_conditional_logic_container").html(f);jQuery.Placeholder.init()}function GetRuleOperators(e,t,n,r){var i,s,o,i,u;s={is:"is",isnot:"isNot",">":"greaterThan","<":"lessThan",contains:"contains",starts_with:"startsWith",ends_with:"endsWith"};i="<select id='"+e+"_rule_operator_"+t+"' class='gfield_rule_select' onchange='SetRuleProperty(\""+e+'", '+t+', "operator", jQuery(this).val());\'>';o=IsEntryMeta(n)?GetOperatorsForMeta(s,n):s;o=gform.applyFilters("gform_conditional_logic_operators",o,e,n);jQuery.each(o,function(e,t){u=r==e?"selected='selected'":"";i+="<option value='"+e+"' "+u+">"+gf_vars[t]+"</option>"});i+="</select>";return i}function GetOperatorsForMeta(e,t){var n={};entry_meta[t]&&entry_meta[t].filter&&entry_meta[t].filter.operators?jQuery.each(e,function(e,r){jQuery.inArray(e,entry_meta[t].filter.operators)>=0&&(n[e]=r)}):n=e;return n}function GetRuleFields(e,t,n){var r="<select id='"+e+"_rule_field_"+t+"' class='gfield_rule_select' onchange='jQuery(\"#"+e+"_rule_operator_"+t+'").replaceWith(GetRuleOperators("'+e+'", '+t+', jQuery(this).val()));jQuery("#'+e+"_rule_value_"+t+'").replaceWith(GetRuleValues("'+e+'", '+t+', jQuery(this).val())); SetRule("'+e+'", '+t+"); '>",i=[];for(var s=0;s<form.fields.length;s++)IsConditionalLogicField(form.fields[s])&&i.push({label:form.fields[s].adminLabel?form.fields[s].adminLabel:form.fields[s].label,value:form.fields[s].id});jQuery.merge(i,GetEntryMetaFields(n));i=gform.applyFilters("gform_conditional_logic_fields",i,form,n);for(var s=0;s<i.length;s++){var o=i[s],u=o.value==n?"selected='selected'":"";r+="<option value='"+o.value+"' "+u+">"+o.label+"</option>"}r+="</select>";return r}function GetEntryMetaFields(e){var t=[],n,r;if(typeof entry_meta=="undefined")return t;jQuery.each(entry_meta,function(n,r){if(typeof r.filter=="undefined")return;t.push({label:r.label,value:n,isSelected:e==n?"selected='selected'":""})});return t}function IsConditionalLogicField(e){var t=e.inputType?e.inputType:e.type,n=["checkbox","radio","select","text","website","textarea","email","hidden","number","phone","multiselect","post_title","post_tags","post_custom_field","post_content","post_excerpt"],r=jQuery.inArray(t,n),i=r>=0?!0:!1;i=gform.applyFilters("gform_is_conditional_logic_field",i,e);return i}function IsEntryMeta(e){return typeof entry_meta!="undefined"&&typeof entry_meta[e]!="undefined"}function GetRuleValues(e,t,n,r,i){i||(i=!1);var s=i==0?e+"_rule_value_"+t:i;n==0&&(n=GetFirstRuleField());if(n==0)return"";var o=GetFieldById(n),u=IsEntryMeta(n),a="";if(o&&o["type"]=="post_category"&&o.displayAllCategories){var f=jQuery("#"+s+".gfield_category_dropdown");if(f.length>0){var l=f.html();l=l.replace('value="'+r+'"','value="'+r+'" selected="selected"');a="<select id='"+s+"' class='gfield_rule_select gfield_rule_value_dropdown gfield_category_dropdown'>"+l+"</select>"}else{var c=i==0?"gfield_ajax_placeholder_"+t:i+"_placeholder";jQuery.post(ajaxurl,{action:"gf_get_post_categories",objectType:e,ruleIndex:t,inputName:i,selectedValue:r},function(n){if(n){jQuery("#"+c).replaceWith(n.trim());SetRuleProperty(e,t,"value",jQuery("#"+s).val())}});a="<select id='"+c+"' class='gfield_rule_select'><option>"+gf_vars.loading+"</option></select>"}}else if(o&&o.choices)a=GetRuleValuesDropDown(o.choices,e,t,r,i);else if(u&&entry_meta&&entry_meta[n]&&entry_meta[n].filter&&typeof entry_meta[n].filter.choices!="undefined")a=GetRuleValuesDropDown(entry_meta[n].filter.choices,e,t,r,i);else{r=r?r.replace(/'/g,"&#039;"):"";a="<input type='text' placeholder='"+gf_vars.enterValue+"' class='gfield_rule_select' id='"+s+"' name='"+s+"' value='"+r.replace(/'/g,"&#039;")+"' onchange='SetRuleProperty(\""+e+'", '+t+', "value", jQuery(this).val());\' onkeyup=\'SetRuleProperty("'+e+'", '+t+', "value", jQuery(this).val());\'>'}a=gform.applyFilters("gform_conditional_logic_values_input",a,e,t,n,r);return a}function GetFirstRuleField(){for(var e=0;e<form.fields.length;e++)if(IsConditionalLogicField(form.fields[e]))return form.fields[e].id;return 0}function GetRuleValuesDropDown(e,t,n,r,i){var s=i==0?t+"_rule_value_"+n:i,o="<select class='gfield_rule_select gfield_rule_value_dropdown' id='"+s+"' name='"+s+"'>",u=!1;for(var a=0;a<e.length;a++){var f=typeof e[a].value=="undefined"||e[a].value==null?e[a].text+"":e[a].value+"",l=f==r,c=l?"selected='selected'":"";l&&(u=!0);o+="<option value='"+f.replace(/'/g,"&#039;")+"' "+c+">"+e[a].text+"</option>"}!u&&r&&r!=""&&(o+="<option value='"+r.replace(/'/g,"&#039;")+"' selected='selected'>"+r+"</option>");o+="</select>";return o}function SetRuleProperty(e,t,n,r){var i=GetConditionalObject(e);i.conditionalLogic.rules[t][n]=r}function GetFieldById(e){e=parseInt(e);for(var t=0;t<form.fields.length;t++)if(form.fields[t].id==e)return form.fields[t];return null}function SetConditionalProperty(e,t,n){var r=GetConditionalObject(e);r.conditionalLogic[t]=n}function SetRuleValueDropDown(e){var t=e.attr("id").split("_rule_value_");if(t.length<2)return;var n=t[0],r=t[1];SetRuleProperty(n,r,"value",e.val())}function InsertRule(e,t){var n=GetConditionalObject(e);n.conditionalLogic.rules.splice(t,0,new ConditionalRule);CreateConditionalLogic(e,n);SetRule(e,t)}function SetRule(e,t){SetRuleProperty(e,t,"fieldId",jQuery("#"+e+"_rule_field_"+t).val());SetRuleProperty(e,t,"operator",jQuery("#"+e+"_rule_operator_"+t).val());SetRuleProperty(e,t,"value",jQuery("#"+e+"_rule_value_"+t).val())}function DeleteRule(e,t){var n=GetConditionalObject(e);n.conditionalLogic.rules.splice(t,1);CreateConditionalLogic(e,n)}function TruncateRuleText(e){return!e||e.length<=18?e:e.substr(0,9)+"..."+e.substr(e.length-8,9)}function gfAjaxSpinner(e,t,n){var t=typeof t=="undefined"?"/images/ajax-loader.gif":t,n=typeof n!="undefined"?n:"";this.elem=e;this.image='<img class="gfspinner" src="'+t+'" style="'+n+'" />';this.init=function(){this.spinner=jQuery(this.image);jQuery(this.elem).after(this.spinner);return this};this.destroy=function(){jQuery(this.spinner).remove()};return this.init()}function InsertVariable(e,t,n){n||(n=jQuery("#"+e+"_variable_select").val());var r=jQuery("#"+e);if(document.selection){r[0].focus();document.selection.createRange().text=n}else if(r[0].selectionStart){obj=r[0];obj.value=obj.value.substr(0,obj.selectionStart)+n+obj.value.substr(obj.selectionEnd,obj.value.length)}else r.val(n+r.val());var i=jQuery("#"+e+"_variable_select");i.length>0&&(i[0].selectedIndex=0);t&&window[t]&&window[t].call(null,e,n)}function InsertEditorVariable(e,t){if(!t){var n=jQuery("#"+e+"_variable_select");n[0].selectedIndex=0;t=n.val()}wpActiveEditor=e;window.send_to_editor(t)}function GetInputType(e){return e.inputType?e.inputType:e.type}function HasPostField(){for(var e=0;e<form.fields.length;e++){var t=form.fields[e].type;if(t=="post_title"||t=="post_content"||t=="post_excerpt")return!0}return!1}function GetInput(e,t){if(typeof e["inputs"]!="undefined"&&jQuery.isArray(e.inputs))for(i in e.inputs){var n=e.inputs[i];if(n.id==t)return n}return null}function IsPricingField(e){return IsProductField(e)||e=="donation"}function IsProductField(e){return jQuery.inArray(e,["option","quantity","product","total","shipping","calculation"])!=-1}function GetLabel(e,t,n){typeof t=="undefined"&&(t=0);typeof n=="undefined"&&(n=!1);var r=GetInput(e,t),i="";e.adminLabel!=undefined&&e.adminLabel.length>0?i=e.adminLabel:i=e.label;return r!=null?n?r.label:i+" ("+r.label+")":i}function DeleteNotification(e){jQuery("#action_argument").val(e);jQuery("#action").val("delete");jQuery("#notification_list_form")[0].submit()}function DeleteConfirmation(e){jQuery("#action_argument").val(e);jQuery("#action").val("delete");jQuery("#confirmation_list_form")[0].submit()}function SetConfirmationConditionalLogic(e){typeof e=="undefined"?confirmation.conditionalLogic=jQuery("#conditional_logic").val()?jQuery.parseJSON(jQuery("#conditional_logic").val()):null:confirmation.conditionalLogic=e?new ConditionalLogic:null}function ToggleConfirmation(){var e,t="",n=jQuery("#form_confirmation_redirect").is(":checked"),r=jQuery("#form_confirmation_show_page").is(":checked");if(n){e=".form_confirmation_redirect_container";t="#form_confirmation_message_container, #form_confirmation_page_container";ClearConfirmationSettings(["text","page"])}else if(r){e="#form_confirmation_page_container";t="#form_confirmation_message_container, .form_confirmation_redirect_container";ClearConfirmationSettings(["text","redirect"])}else{e="#form_confirmation_message_container";t="#form_confirmation_page_container, .form_confirmation_redirect_container";ClearConfirmationSettings(["page","redirect"])}ToggleQueryString();jQuery(t).hide();jQuery(e).show()}function ToggleQueryString(){if(jQuery("#form_redirect_use_querystring").is(":checked"))jQuery("#form_redirect_querystring_container").show();else{jQuery("#form_redirect_querystring_container").hide();jQuery("#form_redirect_querystring").val("");jQuery("#form_redirect_use_querystring").val("")}}function ClearConfirmationSettings(e){var t=jQuery.isArray(e)?e:[e];for(i in t)switch(t[i]){case"text":jQuery("#form_confirmation_message").val("");jQuery("#form_disable_autoformatting").prop("checked",!1);break;case"page":jQuery("#form_confirmation_page").val("");break;case"redirect":jQuery("#form_confirmation_url").val("");jQuery("#form_redirect_querystring").val("");jQuery("#form_redirect_use_querystring").prop("checked",!1)}}function StashConditionalLogic(){var e=JSON.stringify(confirmation.conditionalLogic);jQuery("#conditional_logic").val(e)}function ConfirmationObj(){this.id=!1;this.name=gf_vars.confirmationDefaultName;this.type="message";this.message=gf_vars.confirmationDefaultMessage;this.isDefault=0}function Copy(e){if(!e)return e;if(typeof e!="object")return e;e=jQuery.isArray(e)?e.slice():jQuery.extend({},e);for(i in e)e[i]=Copy(e[i]);return e}function FeedConditionConditionalObject(e,t){return t!="feed_condition"?e:feedCondition.logicObject}function FeedConditionConditionalDescription(e,t,n,r){if(n!="feed_condition")return e;t.actionType=t.actionType.replace("<select",'<select style="display:none;"');t.objectDescription=feedCondition.strings.objectDescription;var i=makeArray(t);return i.join(" ")}function makeArray(e){var t=[];for(i in e)t.push(e[i]);return t}function isSet(e){return typeof e!="undefined"?!0:!1}jQuery(document).ready(function(e){gaddon.init();e(document).on?e(document).on("change",".gfield_rule_value_dropdown",function(){SetRuleValueDropDown(e(this))}):e(".gfield_rule_value_dropdown").live("change",function(){SetRuleValueDropDown(e(this))});typeof form!="undefined"&&new gfMergeTagsObj(form)});(function(e,t,n){function r(e){try{JSON.parse(e)}catch(t){return!1}return!0}function i(e){return typeof e!="undefined"?!0:!1}function s(e,t){return typeof e[t]!="undefined"?e[t]:""}e.init=function(){var e,t,n;f=window.form;id=i(f)?f.id:0};e.toggleFeedActive=function(e,t,n){var r=e.src.indexOf("active1.png")>=0?0:1;e.src=e.src.replace("active1.png","spinner.gif");e.src=e.src.replace("active0.png","spinner.gif");jQuery.post(ajaxurl,{action:"gf_feed_is_active_"+t,feed_id:n,is_active:r},function(t){if(r){e.src=e.src.replace("spinner.gif","active1.png");jQuery(e).attr("title",gf_vars.inactive).attr("alt",gf_vars.inactive)}else{e.src=e.src.replace("spinner.gif","active0.png");jQuery(e).attr("title",gf_vars.active).attr("alt",gf_vars.active)}});return!0};e.deleteFeed=function(e){t("#single_action").val("delete");t("#single_action_argument").val(e);t("#gform-settings").submit()}})(window.gaddon=window.gaddon||{},jQuery);var gfMergeTagsObj=function(e){this.form=e;this.init=function(){var e=this;this.mergeTagList=jQuery('<ul id="gf_merge_tag_list" class=""></ul>');this.mergeTagListHover=!1;if(jQuery(".merge-tag-support").length<=0)return;jQuery(".merge-tag-support").bind("keydown",function(e){e.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).data("autocomplete").menu.active&&e.preventDefault()}).each(function(){var t=jQuery(this),n=t.is("input")?"input":"textarea";t.autocomplete({minLength:1,source:function(n,r){var i=e.extractLast(n.term);if(i.length<t.autocomplete("option","minLength")){r([]);return}var s=jQuery.map(e.getAutoCompleteMergeTags(t),function(t){return e.startsWith(t,i)?t:null});r(s)},focus:function(){return!1},select:function(t,n){var r=e.split(this.value);r.pop();r.push(n.item.value);this.value=r.join(" ");return!1}});var r=e.getClassProperty(this,"position"),i=jQuery('<span class="all-merge-tags '+r+" "+n+'"><a class="open-list tooltip-merge-tag" title="'+gf_vars.mergeTagsTooltip+'"></a></span>');i.data("targetElement",t.attr("id"));if(e.getClassProperty(this,"manual_position")){var s=".mt-"+t.attr("id");jQuery(s).append(i)}else t.after(i)});jQuery(".tooltip-merge-tag").tooltip({show:{delay:1250},content:function(){return jQuery(this).prop("title")}});jQuery(".all-merge-tags a.open-list").click(function(){var t=jQuery(this),n=e.getTargetElement(t);e.mergeTagList.html(e.getMergeTagListItems(n));e.mergeTagList.insertAfter(t).show();jQuery("ul#gf_merge_tag_list a").click(function(){var t=jQuery(this).data("value"),n=e.getTargetElement(this);e.isWpEditor(n)?InsertEditorVariable(n.attr("id"),t):InsertVariable(n.attr("id"),null,t);n.change();e.mergeTagList.hide()})});this.getTargetElement=function(e){var e=jQuery(e);return jQuery("#"+e.parents("span.all-merge-tags").data("targetElement"))};this.mergeTagList.hover(function(){e.mergeTagListHover=!0},function(){e.mergeTagListHover=!1});jQuery("body").mouseup(function(){e.mergeTagListHover||e.mergeTagList.hide()})};this.split=function(e){return e.split(" ")};this.extractLast=function(e){return this.split(e).pop()};this.startsWith=function(e,t){return e.indexOf(t)===0};this.getMergeTags=function(e,t,n,r,s,o){typeof e=="undefined"&&(e=[]);typeof r=="undefined"&&(r=[]);var u=[],a=[],f=[],l=[],c=[],h=[],p=[],d=[],v=[];n||l.push({tag:"{all_fields}",label:this.getMergeTagLabel("{all_fields}")});if(!s){for(i in e){var m=e[i];if(m.displayOnly)continue;var g=GetInputType(m);if(jQuery.inArray(g,r)!=-1)continue;if(m.isRequired)switch(g){case"name":var y=Copy(m);if(m["nameFormat"]=="extended"){var b=GetInput(m,m.id+".2"),w=GetInput(m,m.id+".8"),E=Copy(m);E.inputs=[b,w];a.push(E);delete y.inputs[0];delete y.inputs[3]}u.push(y);break;default:u.push(m)}else a.push(m);IsPricingField(m.type)&&f.push(m)}if(u.length>0)for(i in u)c=c.concat(this.getFieldMergeTags(u[i],o));if(a.length>0)for(i in a)h=h.concat(this.getFieldMergeTags(a[i],o));if(f.length>0){n||p.push({tag:"{pricing_fields}",label:this.getMergeTagLabel("{pricing_fields}")});for(i in f)p.concat(this.getFieldMergeTags(f[i],o))}}d.push({tag:"{ip}",label:this.getMergeTagLabel("{ip}")});d.push({tag:"{date_mdy}",label:this.getMergeTagLabel("{date_mdy}")});d.push({tag:"{date_dmy}",label:this.getMergeTagLabel("{date_dmy}")});d.push({tag:"{embed_post:ID}",label:this.getMergeTagLabel("{embed_post:ID}")});d.push({tag:"{embed_post:post_title}",label:this.getMergeTagLabel("{embed_post:post_title}")});d.push({tag:"{embed_url}",label:this.getMergeTagLabel("{embed_url}")});d.push({tag:"{entry_id}",label:this.getMergeTagLabel("{entry_id}")});d.push({tag:"{entry_url}",label:this.getMergeTagLabel("{entry_url}")});d.push({tag:"{form_id}",label:this.getMergeTagLabel("{form_id}")});d.push({tag:"{form_title}",label:this.getMergeTagLabel("{form_title}")});d.push({tag:"{user_agent}",label:this.getMergeTagLabel("{user_agent}")});d.push({tag:"{referer}",label:this.getMergeTagLabel("{referer}")});if(HasPostField()&&!s){d.push({tag:"{post_id}",label:this.getMergeTagLabel("{post_id}")});d.push({tag:"{post_edit_url}",label:this.getMergeTagLabel("{post_edit_url}")})}d.push({tag:"{user:display_name}",label:this.getMergeTagLabel("{user:display_name}")});d.push({tag:"{user:user_email}",label:this.getMergeTagLabel("{user:user_email}")});d.push({tag:"{user:user_login}",label:this.getMergeTagLabel("{user:user_login}")});var S=this.getCustomMergeTags();if(S.tags.length>0)for(i in S.tags){var x=S.tags[i];v.push({tag:x.tag,label:x.label})}var T={ungrouped:{label:this.getMergeGroupLabel("ungrouped"),tags:l},required:{label:this.getMergeGroupLabel("required"),tags:c},optional:{label:this.getMergeGroupLabel("optional"),tags:h},pricing:{label:this.getMergeGroupLabel("pricing"),tags:p},other:{label:this.getMergeGroupLabel("other"),tags:d},custom:{label:this.getMergeGroupLabel("custom"),tags:v}};T=gform.applyFilters("gform_merge_tags",T,t,n,r,s,o);return T};this.getMergeTagLabel=function(e){for(groupName in gf_vars.mergeTags){var t=gf_vars.mergeTags[groupName].tags;for(i in t)if(t[i].tag==e)return t[i].label}return""};this.getMergeGroupLabel=function(e){return gf_vars.mergeTags[e].label};this.getFieldMergeTags=function(e,t){typeof t=="undefined"&&(t="");var n=[],r=GetInputType(e),s=r=="list"?":"+t:"",o="",u="";if(typeof e["inputs"]!="undefined"&&jQuery.isArray(e.inputs)){if(r=="checkbox"){u=GetLabel(e,e.id).replace("'","\\'");o="{"+u+":"+e.id+s+"}";n.push({tag:o,label:u})}for(i in e.inputs){var a=e.inputs[i];if(r=="creditcard"&&jQuery.inArray(a.id,[parseFloat(e.id+".2"),parseFloat(e.id+".3"),parseFloat(e.id+".5")])>-1)continue;u=GetLabel(e,a.id).replace("'","\\'");o="{"+u+":"+a.id+s+"}";n.push({tag:o,label:u})}}else{u=GetLabel(e).replace("'","\\'");o="{"+u+":"+e.id+s+"}";n.push({tag:o,label:u})}return n};this.getCustomMergeTags=function(){for(groupName in gf_vars.mergeTags)if(groupName=="custom")return gf_vars.mergeTags[groupName];return[]};this.getAutoCompleteMergeTags=function(e){var t=this.form.fields,n=e.attr("id"),r=this.getClassProperty(e,"hide_all_fields")==1,s=this.getClassProperty(e,"exclude"),o=this.getClassProperty(e,"option"),u=this.getClassProperty(e,"prepopulate");u&&(r=!0);var a=this.getMergeTags(t,n,r,s,u,o),f=[];for(group in a){var l=a[group].tags;for(i in l)f.push(l[i].tag)}return f};this.getMergeTagListItems=function(e){var t=this.form.fields,n=e.attr("id"),r=this.getClassProperty(e,"hide_all_fields")==1,s=this.getClassProperty(e,"exclude"),o=this.getClassProperty(e,"prepopulate"),u=this.getClassProperty(e,"option");o&&(r=!0);var a=this.getMergeTags(t,n,r,s,o,u),f=this.hasMultipleGroups(a),l="";for(group in a){var c=a[group].label,h=a[group].tags;if(h.length<=0)continue;c&&f&&(l+='<li class="group-header">'+c+"</li>");for(i in h){var p=h[i];l+='<li class=""><a class="" data-value="'+p.tag+'">'+p.label+"</a></li>"}}return l};this.hasMultipleGroups=function(e){var t=0;for(group in e)e[group].tags.length>0&&t++;return t>1};this.getClassProperty=function(e,t){var e=jQuery(e),n=e.attr("class");if(!n)return"";var r=n.split(" ");for(i in r){var s=r[i].split("-");if(s[0]!="mt"||s[1]!=t)continue;if(s.length>3){delete s[0];delete s[1];return s}return s.length==2?!0:s[2]}return""};this.isWpEditor=function(e){var e=jQuery(e);return this.getClassProperty(e,"wp_editor")==1};this.init()},FeedConditionObj=function(e){this.strings=isSet(e.strings)?e.strings:{};this.logicObject=e.logicObject;this.init=function(){var e=this;gform.addFilter("gform_conditional_object","FeedConditionConditionalObject");gform.addFilter("gform_conditional_logic_description","FeedConditionConditionalDescription");jQuery(document).ready(function(){ToggleConditionalLogic(!0,"feed_condition")});jQuery("input#feed_condition_conditional_logic").parents("form").on("submit",function(){jQuery("input#feed_condition_conditional_logic_object").val(JSON.stringify(e.logicObject))})};this.init()};