/* global setUserSetting, ajaxurl, commonL10n, alert, confirm, toggleWithKeyboard, pagenow */var showNotice,adminMenu,columns,validateForm,screenMeta;(function(e,t,n){adminMenu={init:function(){},fold:function(){},restoreMenuState:function(){},toggle:function(){},favorites:function(){}};columns={init:function(){var t=this;e(".hide-column-tog","#adv-settings").click(function(){var n=e(this),r=n.val();n.prop("checked")?t.checked(r):t.unchecked(r);columns.saveManageColumnsState()})},saveManageColumnsState:function(){var t=this.hidden();e.post(ajaxurl,{action:"hidden-columns",hidden:t,screenoptionnonce:e("#screenoptionnonce").val(),page:pagenow})},checked:function(t){e(".column-"+t).show();this.colSpanChange(1)},unchecked:function(t){e(".column-"+t).hide();this.colSpanChange(-1)},hidden:function(){return e(".manage-column").filter(":hidden").map(function(){return this.id}).get().join(",")},useCheckboxesForHidden:function(){this.hidden=function(){return e(".hide-column-tog").not(":checked").map(function(){var e=this.id;return e.substring(e,e.length-5)}).get().join(",")}},colSpanChange:function(t){var n=e("table").find(".colspanchange"),r;if(!n.length)return;r=parseInt(n.attr("colspan"),10)+t;n.attr("colspan",r.toString())}};e(document).ready(function(){columns.init()});validateForm=function(t){return!e(t).find(".form-required").filter(function(){return e("input:visible",this).val()===""}).addClass("form-invalid").find("input:visible").change(function(){e(this).closest(".form-invalid").removeClass("form-invalid")}).size()};showNotice={warn:function(){var e=commonL10n.warnDelete||"";return confirm(e)?!0:!1},note:function(e){alert(e)}};screenMeta={element:null,toggles:null,page:null,init:function(){this.element=e("#screen-meta");this.toggles=e(".screen-meta-toggle a");this.page=e("#wpcontent");this.toggles.click(this.toggleEvent)},toggleEvent:function(t){var n=e(this.href.replace(/.+#/,"#"));t.preventDefault();if(!n.length)return;n.is(":visible")?screenMeta.close(n,e(this)):screenMeta.open(n,e(this))},open:function(t,n){e(".screen-meta-toggle").not(n.parent()).css("visibility","hidden");t.parent().show();t.slideDown("fast",function(){t.focus();n.addClass("screen-meta-active").attr("aria-expanded",!0)})},close:function(t,n){t.slideUp("fast",function(){n.removeClass("screen-meta-active").attr("aria-expanded",!1);e(".screen-meta-toggle").css("visibility","");t.parent().hide()})}};e(".contextual-help-tabs").delegate("a","click focus",function(t){var n=e(this),r;t.preventDefault();if(n.is(".active a"))return!1;e(".contextual-help-tabs .active").removeClass("active");n.parent("li").addClass("active");r=e(n.attr("href"));e(".help-tab-content").not(r).removeClass("active").hide();r.addClass("active").show()});e(document).ready(function(){var n,r,i,s,o,u,a,f,l=!1,c=e("#adminmenu"),h=e("input.current-page"),p=h.val();c.on("click.wp-submenu-head",".wp-submenu-head",function(t){e(t.target).parent().siblings("a").get(0).click()});e("#collapse-menu").on("click.collapse-menu",function(){var n=e(document.body),r;e("#adminmenu div.wp-submenu").css("margin-top","");t.innerWidth?r=Math.max(t.innerWidth,document.documentElement.clientWidth):r=901;if(r&&r<900)if(n.hasClass("auto-fold")){n.removeClass("auto-fold").removeClass("folded");setUserSetting("unfold",1);setUserSetting("mfold","o")}else{n.addClass("auto-fold");setUserSetting("unfold",0)}else if(n.hasClass("folded")){n.removeClass("folded");setUserSetting("mfold","o")}else{n.addClass("folded");setUserSetting("mfold","f")}});if("ontouchstart"in t||/IEMobile\/[1-9]/.test(navigator.userAgent)){u=/Mobile\/.+Safari/.test(navigator.userAgent)?"touchstart":"click";e(document.body).on(u+".wp-mobile-hover",function(t){if(c.data("wp-responsive"))return;e(t.target).closest("#adminmenu").length||c.find("li.wp-has-submenu.opensub").removeClass("opensub")});c.find("a.wp-has-submenu").on(u+".wp-mobile-hover",function(t){var n=e(this),r=n.parent();if(c.data("wp-responsive"))return;if(!r.hasClass("opensub")&&(!r.hasClass("wp-menu-open")||r.width()<40)){t.preventDefault();c.find("li.opensub").removeClass("opensub");r.addClass("opensub")}})}c.find("li.wp-has-submenu").hoverIntent({over:function(){var n,r,i,s,o=e(this).find(".wp-submenu"),u,a,f,l=parseInt(o.css("top"),10);if(isNaN(l)||l>-5)return;if(c.data("wp-responsive"))return;u=e(this).offset().top;a=e(t).scrollTop();f=u-a-30;n=u+o.height()+1;r=e("#wpwrap").height();i=60+n-r;s=e(t).height()+a-15;s<n-i&&(i=n-s);i>f&&(i=f);i>1?o.css("margin-top","-"+i+"px"):o.css("margin-top","");c.find("li.menu-top").removeClass("opensub");e(this).addClass("opensub")},out:function(){if(c.data("wp-responsive"))return;e(this).removeClass("opensub").find(".wp-submenu").css("margin-top","")},timeout:200,sensitivity:7,interval:90});c.on("focus.adminmenu",".wp-submenu a",function(t){if(c.data("wp-responsive"))return;e(t.target).closest("li.menu-top").addClass("opensub")}).on("blur.adminmenu",".wp-submenu a",function(t){if(c.data("wp-responsive"))return;e(t.target).closest("li.menu-top").removeClass("opensub")});e("div.wrap h2:first").nextAll("div.updated, div.error").addClass("below-h2");e("div.updated, div.error").not(".below-h2, .inline").insertAfter(e("div.wrap h2:first"));screenMeta.init();e("tbody").children().children(".check-column").find(":checkbox").click(function(t){if("undefined"==t.shiftKey)return!0;if(t.shiftKey){if(!l)return!0;n=e(l).closest("form").find(":checkbox");r=n.index(l);i=n.index(this);s=e(this).prop("checked");if(0<r&&0<i&&r!=i){o=i>r?n.slice(r,i):n.slice(i,r);o.prop("checked",function(){return e(this).closest("tr").is(":visible")?s:!1})}}l=this;var u=e(this).closest("tbody").find(":checkbox").filter(":visible").not(":checked");e(this).closest("table").children("thead, tfoot").find(":checkbox").prop("checked",function(){return 0===u.length});return!0});e("thead, tfoot").find(".check-column :checkbox").click(function(t){var n=e(this).prop("checked"),r="undefined"==typeof toggleWithKeyboard?!1:toggleWithKeyboard,i=t.shiftKey||r;e(this).closest("table").children("tbody").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return e(this).is(":hidden")?!1:i?e(this).prop("checked"):n?!0:!1});e(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return i?!1:n?!0:!1})});e("td.post-title, td.title, td.comment, .bookmarks td.column-name, td.blogname, td.username, .dashboard-comment-wrap").focusin(function(){clearTimeout(a);f=e(this).find(".row-actions");f.addClass("visible")}).focusout(function(){a=setTimeout(function(){f.removeClass("visible")},30)});e("#default-password-nag-no").click(function(){setUserSetting("default_password_nag","hide");e("div.default-password-nag").hide();return!1});e("#newcontent").bind("keydown.wpevent_InsertTab",function(t){var n=t.target,r,i,s,o,u;if(t.keyCode==27){e(n).data("tab-out",!0);return}if(t.keyCode!=9||t.ctrlKey||t.altKey||t.shiftKey)return;if(e(n).data("tab-out")){e(n).data("tab-out",!1);return}r=n.selectionStart;i=n.selectionEnd;s=n.value;try{this.lastKey=9}catch(a){}if(document.selection){n.focus();u=document.selection.createRange();u.text="	"}else if(r>=0){o=this.scrollTop;n.value=s.substring(0,r).concat("	",s.substring(i));n.selectionStart=n.selectionEnd=r+1;this.scrollTop=o}t.stopPropagation&&t.stopPropagation();t.preventDefault&&t.preventDefault()});e("#newcontent").bind("blur.wpevent_InsertTab",function(){this.lastKey&&9==this.lastKey&&this.focus()});h.length&&h.closest("form").submit(function(){e('select[name="action"]').val()==-1&&e('select[name="action2"]').val()==-1&&h.val()==p&&h.val("1")});e('.search-box input[type="search"], .search-box input[type="submit"]').mousedown(function(){e('select[name^="action"]').val("-1")});e("#contextual-help-link, #show-settings-link").on("focus.scroll-into-view",function(e){e.target.scrollIntoView&&e.target.scrollIntoView(!1)});(function(){function i(){t.prop("disabled",""===n.map(function(){return e(this).val()}).get().join(""))}var t,n,r=e("form.wp-upload-form");if(!r.length)return;t=r.find('input[type="submit"]');n=r.find('input[type="file"]');i();n.on("change",i)})()});(function(){function r(){e(document).trigger("wp-window-resized")}function i(){t.clearTimeout(n);n=t.setTimeout(r,200)}var n;e(t).on("resize.wp-fire-once",i)})();e(document).ready(function(){var n=e(document),r=e(t),i=e(document.body),s=e("#adminmenuwrap"),o=e("#collapse-menu"),u=e("#wpwrap"),a=e("#adminmenu"),f=e("#wp-responsive-overlay"),l=e("#wp-toolbar"),c=l.find('a[aria-haspopup="true"]'),h=e(".meta-box-sortables"),p=!1,d=!1;t.stickyMenu={enable:function(){if(!p){n.on("wp-window-resized.sticky-menu",e.proxy(this.update,this));o.on("click.sticky-menu",e.proxy(this.update,this));this.update();p=!0}},disable:function(){if(p){r.off("resize.sticky-menu");o.off("click.sticky-menu");i.removeClass("sticky-menu");p=!1}},update:function(){r.height()>s.height()+32?i.hasClass("sticky-menu")||i.addClass("sticky-menu"):i.hasClass("sticky-menu")&&i.removeClass("sticky-menu")}};t.wpResponsive={init:function(){var i=this,s=0;n.on("wp-responsive-activate.wp-responsive",function(){i.activate()}).on("wp-responsive-deactivate.wp-responsive",function(){i.deactivate()});e("#wp-admin-bar-menu-toggle").on("click.wp-responsive",function(e){e.preventDefault();u.toggleClass("wp-responsive-open")});a.on("touchstart.wp-responsive","li.wp-has-submenu > a",function(){s=r.scrollTop()}).on("touchend.wp-responsive click.wp-responsive","li.wp-has-submenu > a",function(t){if(!a.data("wp-responsive")||t.type==="touchend"&&r.scrollTop()!==s)return;e(this).parent("li").toggleClass("selected");t.preventDefault()});i.trigger();n.on("wp-window-resized.wp-responsive",e.proxy(this.trigger,this));r.on("load.wp-responsive",function(){var e=navigator.userAgent.indexOf("AppleWebKit/")>-1?r.width():t.innerWidth;e<=782&&i.disableSortables()})},activate:function(){t.stickyMenu.disable();i.hasClass("auto-fold")||i.addClass("auto-fold");a.data("wp-responsive",1);this.disableSortables()},deactivate:function(){t.stickyMenu.enable();a.removeData("wp-responsive");this.enableSortables()},trigger:function(){var e;if(!t.innerWidth)return;e=Math.max(t.innerWidth,document.documentElement.clientWidth);if(e<=782){if(!d){n.trigger("wp-responsive-activate");d=!0}}else if(d){n.trigger("wp-responsive-deactivate");d=!1}e<=480?this.enableOverlay():this.disableOverlay()},enableOverlay:function(){f.length===0&&(f=e('<div id="wp-responsive-overlay"></div>').insertAfter("#wpcontent").hide().on("click.wp-responsive",function(){l.find(".menupop.hover").removeClass("hover");e(this).hide()}));c.on("click.wp-responsive",function(){f.show()})},disableOverlay:function(){c.off("click.wp-responsive");f.hide()},disableSortables:function(){if(h.length)try{h.sortable("disable")}catch(e){}},enableSortables:function(){if(h.length)try{h.sortable("enable")}catch(e){}}};t.stickyMenu.enable();t.wpResponsive.init()});(function(){if("-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.getElementsByTagName("head")[0].appendChild(e)}})();e(document).bind("wp_CloseOnEscape",function(e,t){if(typeof t.cb!="function")return;(typeof t.condition!="function"||t.condition())&&t.cb();return!0})})(jQuery,window);