var inlineEditTax;!function(e){inlineEditTax={init:function(){var t=this,n=e("#inline-edit");t.type=e("#the-list").attr("data-wp-lists").substr(5),t.what="#"+t.type+"-",e("#the-list").on("click","a.editinline",function(){return inlineEditTax.edit(this),!1}),n.keyup(function(e){return 27===e.which?inlineEditTax.revert():void 0}),e("a.cancel",n).click(function(){return inlineEditTax.revert()}),e("a.save",n).click(function(){return inlineEditTax.save(this)}),e("input, select",n).keydown(function(e){return 13===e.which?inlineEditTax.save(this):void 0}),e('#posts-filter input[type="submit"]').mousedown(function(){t.revert()})},toggle:function(t){var n=this;"none"===e(n.what+n.getId(t)).css("display")?n.revert():n.edit(t)},edit:function(t){var n,r,i=this;return i.revert(),"object"==typeof t&&(t=i.getId(t)),n=e("#inline-edit").clone(!0),r=e("#inline_"+t),e("td",n).attr("colspan",e(".widefat:first thead th:visible").length),e(i.what+t).hasClass("alternate")&&e(n).addClass("alternate"),e(i.what+t).hide().after(n),e(':input[name="name"]',n).val(e(".name",r).text()),e(':input[name="slug"]',n).val(e(".slug",r).text()),e(n).attr("id","edit-"+t).addClass("inline-editor").show(),e(".ptitle",n).eq(0).focus(),!1},save:function(t){var n,r,i=e('input[name="taxonomy"]').val()||"";return"object"==typeof t&&(t=this.getId(t)),e("table.widefat .spinner").show(),n={action:"inline-save-tax",tax_type:this.type,tax_ID:t,taxonomy:i},r=e("#edit-"+t).find(":input").serialize(),n=r+"&"+e.param(n),e.post(ajaxurl,n,function(n){var r,i;e("table.widefat .spinner").hide(),n?-1!==n.indexOf("<tr")?(e(inlineEditTax.what+t).remove(),i=e(n).attr("id"),e("#edit-"+t).before(n).remove(),r=i?e("#"+i):e(inlineEditTax.what+t),r.hide().fadeIn()):e("#edit-"+t+" .inline-edit-save .error").html(n).show():e("#edit-"+t+" .inline-edit-save .error").html(inlineEditL10n.error).show(),e(r).prev("tr").hasClass("alternate")&&e(r).removeClass("alternate")}),!1},revert:function(){var t=e("table.widefat tr.inline-editor").attr("id");return t&&(e("table.widefat .spinner").hide(),e("#"+t).remove(),t=t.substr(t.lastIndexOf("-")+1),e(this.what+t).show()),!1},getId:function(t){var n="TR"===t.tagName?t.id:e(t).parents("tr").attr("id"),r=n.split("-");return r[r.length-1]}},e(document).ready(function(){inlineEditTax.init()})}(jQuery);